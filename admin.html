<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>문의 관리 - JAUTO-FNC</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <!-- 모바일 헤더 (모바일에서만 표시) -->
    <header class="mobile-header">
        <div class="mobile-header-left">
            <h1>JAUTO-FNC</h1>
        </div>
        <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="메뉴 열기">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </button>
    </header>

    <!-- 모바일 오버레이 -->
    <div class="mobile-overlay" id="mobileOverlay"></div>

    <!-- 비밀번호 변경 모달 -->
    <div class="password-modal" id="passwordModal">
        <div class="password-modal-content">
            <div class="password-modal-header">
                <h3>비밀번호 변경</h3>
                <button class="password-modal-close" id="passwordModalClose" aria-label="닫기">&times;</button>
            </div>
            <div class="password-modal-body">
                <div class="password-form-group">
                    <label for="currentPassword">현재 비밀번호</label>
                    <input type="password" id="currentPassword" placeholder="현재 비밀번호">
                </div>
                <div class="password-form-group">
                    <label for="newPassword">새 비밀번호</label>
                    <input type="password" id="newPassword" placeholder="새 비밀번호">
                </div>
            </div>
            <div class="password-modal-footer">
                <button class="password-save-btn" id="passwordSaveBtn">변경하기</button>
                <button class="password-cancel-btn" id="passwordCancelBtn">취소</button>
            </div>
        </div>
    </div>

    <div class="admin-container">
        <!-- 사이드바 (PC: 왼쪽 고정, 모바일: 오른쪽에서 슬라이드) -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-header-row">
                    <div>
                        <h1>JAUTO-FNC</h1>
                        <p class="sidebar-subtitle">문의 관리</p>
                    </div>
                    <button class="sidebar-close-btn" id="sidebarCloseBtn" aria-label="닫기">&times;</button>
                </div>
            </div>
            <nav class="sidebar-nav">
                <div class="nav-item active">
                    <span>문의 리스트</span>
                </div>
            </nav>
        </aside>

        <!-- 메인 콘텐츠 영역 -->
        <main class="main-content">
            <div class="content-header">
                <h2 id="contentTitle">문의 리스트</h2>
                <div class="header-actions">
                    <button class="password-btn" id="passwordBtn">비밀번호 변경</button>
                    <button class="logout-btn" id="logoutBtn">로그아웃</button>
                    <button class="refresh-btn" id="refreshBtn" aria-label="새로고침">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M1 4v6h6M23 20v-6h-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
            </div>

            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>로딩 중...</p>
            </div>

            <div class="table-wrapper" id="tableWrapper" style="display: none;">
                <table class="inquiries-table" id="inquiriesTable">
                    <thead>
                        <tr>
                            <th>번호</th>
                            <th>이름</th>
                            <th>연락처</th>
                            <th>차량명</th>
                            <th>렌트/리스</th>
                            <th>개월수</th>
                            <th>사업자구분</th>
                            <th>상태</th>
                            <th>등록일시</th>
                            <th>메모</th>
                            <th>관리</th>
                        </tr>
                    </thead>
                    <tbody id="inquiriesList">
                    </tbody>
                </table>
            </div>

            <div class="pagination" id="pagination" style="display: none;">
                <button class="page-btn" id="prevBtn">이전</button>
                <span class="page-info" id="pageInfo"></span>
                <button class="page-btn" id="nextBtn">다음</button>
            </div>
        </main>
    </div>

    <!-- 모바일 상세 모달 -->
    <div class="detail-modal" id="detailModal">
        <div class="detail-modal-content">
            <div class="detail-modal-header">
                <h3>문의 상세</h3>
                <button class="detail-modal-close" id="detailModalClose" aria-label="닫기">&times;</button>
            </div>
            <div class="detail-modal-body" id="detailModalBody"></div>
            <div class="detail-modal-footer">
                <button class="detail-close-btn" id="detailModalCloseBtn">닫기</button>
            </div>
        </div>
    </div>

    <script>
        // 로그인 체크
        if (!localStorage.getItem('admin_logged_in')) {
            window.location.href = '/login.html';
        }
    </script>
    <script src="admin.js"></script>
</body>
</html>
